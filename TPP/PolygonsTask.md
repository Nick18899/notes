# 08.09.2020. Пара №1

# Задача о многоугольниках

## Главное окно

* В центре окна - вершина (окружность радиуса N [порядка 10])
* Для каждой вершины действует Drag-N-Drop
* Щелчок левой кнопной по свободной области создает на месте щелчка новую вершину
* Форма вершины варьируется (меню). Для выбора должен выпадать список из возможных вершин
* После выбора формы вершины <b>новые</b> вершины должны принимать выбранную форму
* Возможные форму:
  * Круг
  * Треугольник
  * Квадрат
* Радиус вершины = радиус описанной окружности вокруг фигуры выбранной формы
* ПКМ удаляет вершину
* если под щелчок попадает сразу обе вершины, то удаляется та, которая оказалась в даннной точке позже всех
* ПКМ по пустому месту - ничего не происходит

## Специфика

* Если вершин не менее двух, то на их "центры" натягивается выпуклая оболочка
* Точки внутри этой оболочки удаляются
* Не зависит от формы точек
* Пересчет происходит в моменты:
  * Добавления новой точки
* <b>В момент отпускания Dran-N-Drop`а любой из точек</b>
* Для всех фигуры действует Dran-N-Drop
  * Ребро считается частью фигуры
* Цвет линий и цвет заливки задается в диалоговых окнах
  * Данное окно вслывает поверх всех других окон и его невозможно свернуть
  * Меню Options
    * Line color
    * Points fill color
    * Fill color
    * При нажатии появляется диалоговое окно с палитрой и кнопкой Cancel
* Выпуклая оболочка
  * Строится двумя разными алгоритмами
    * определению
    * Любой другой
  * Меню для выбора алгоритма
  * Нужно сравнить асимптотики двух разных алгоритмов
* Радиус вершин изменяется в немодальном диалоговом окне (нет кнопки ОК, значение ползунка в этом окне динамически влияет на радиус вершин в другом)
* На верху появляется тулбар (второй строчкой с графическими кннопочками)
  * Play (все вершины начинают хаотично двигаться)
  * Stop (все вершины останавливаются)
* Сохранение и Загрузка
  * Сериализация
  * Меню Файл
  * New
    * Если не сохранен/изменен, открывается окно "Не хотите ли сохранить"
  * Open
  * Save
  * Save as
* Undo-Redo
  * Многоуровневая
  * Нужно хранить изменение между версиями, а не полные состояние системы
* Выделение части функций (построение выпуклой оболочки) в DLL
* Плагины
  * Подключение в Runtime библиотек

## Как делать

* abstract class shape
  * Наследники:
    * circle
    * triangle
    * square
  * Поля
    * static int R
    * int X
    * int Y
    * static Color lineC
    * static Color fillC
  * Конструктор
    * public Shape (int X, int Y)
    * static Shape() { ... }
  * Методы
    * public virtual void draw(Graphics graphics) ;
    * public virtual bool isInside(int xx, int yy);
